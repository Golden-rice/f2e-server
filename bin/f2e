#!/usr/bin/env node
'use strict'
const path = require('path')
const program = require('commander')
const base = require('../package.json')
const IP = require('../lib/util/IP')
const ROOT = process.pwd();

program
    .version(base.version)
    .option('-p, --port <port>', 'http server port')

program
    .command('start')
    .description('启动服务器')
    .action((options) => {
        const {
            port,
        } = options.parent

        require('../index')({port})
    })

program
    .command('ip')
    .description('获取本地IP')
    .action(options => console.log(IP))

// 开始解析用户输入的命令
program.parse(process.argv)
